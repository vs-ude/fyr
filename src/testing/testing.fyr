type Test struct {
    tests []string
    current int
    step int
}

export func Test.nextTest() {
    this.current++
    this.step = 0
}

func Test.nextStep() {
    this.step++
}

func Test.ok(name string) {
    println(this.tests[this.current], "step", this.step, name, "passed")
    this.nextStep()
}

func Test.fail(name string, message string) {
    println(this.tests[this.current], "step", this.step, name, "failed:", message)
    this.nextStep()
}
